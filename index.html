<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š Ù…Ø¬Ù„Ø© Ø§Ù„Ù‚Ø³Ù… - Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        
        .header { background: white; padding: 1rem 2rem; border-radius: 15px; margin-bottom: 2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .header-top { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; }
        .logo h1 { color: #667eea; font-size: 1.8rem; }
        .logo p { color: #666; font-size: 0.9rem; }
        
        .admin-btn { background: #333; color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 50px; font-size: 1rem; cursor: pointer; display: flex; align-items: center; gap: 0.5rem; transition: transform 0.3s; }
        .admin-btn:hover { transform: scale(1.05); background: #444; }
        
        .search-section { background: #f0f2f5; padding: 1rem; border-radius: 15px; margin-top: 1rem; }
        .search-box { position: relative; width: 100%; }
        .search-box input { width: 100%; padding: 1rem 1rem 1rem 3.5rem; border: 2px solid #e0e0e0; border-radius: 50px; font-size: 1rem; }
        .search-box input:focus { outline: none; border-color: #667eea; }
        .search-icon { position: absolute; right: 1.2rem; top: 50%; transform: translateY(-50%); color: #667eea; font-size: 1.2rem; }
        .clear-search { position: absolute; left: 1.2rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: #999; cursor: pointer; display: none; }
        
        .search-stats { margin-top: 0.5rem; color: #666; display: flex; justify-content: space-between; }
        .result-count { background: #667eea; color: white; padding: 0.2rem 1rem; border-radius: 50px; font-size: 0.8rem; }
        
        .admin-login-screen { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; z-index: 2000; }
        .admin-login-box { background: white; padding: 2rem; border-radius: 15px; width: 90%; max-width: 400px; text-align: center; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .admin-login-box h2 { color: #333; margin-bottom: 1rem; }
        .admin-login-box input { width: 100%; padding: 1rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; margin: 1rem 0; }
        .admin-login-buttons { display: flex; gap: 1rem; }
        .admin-login-buttons button { flex: 1; padding: 0.8rem; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; }
        .login-submit { background: #667eea; color: white; }
        .login-cancel { background: #dc3545; color: white; }
        .login-error { color: #dc3545; margin-top: 1rem; display: none; }
        
        .admin-panel { background: white; padding: 2rem; border-radius: 15px; margin-bottom: 2rem; display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        .admin-header h3 { color: #667eea; font-size: 1.5rem; }
        .logout-btn { background: #dc3545; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; }
        
        .add-post-form { background: #f9f9f9; padding: 1.5rem; border-radius: 10px; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #333; font-weight: 600; font-size: 1.1rem; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 1rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #667eea; }
        .form-group textarea { height: 120px; resize: vertical; }
        
        .image-input-group { display: flex; gap: 0.5rem; margin-bottom: 0.5rem; align-items: center; }
        .image-input-group input { flex: 1; padding: 0.8rem; }
        .preview-btn { background: #667eea; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; }
        .remove-btn { background: #dc3545; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; }
        .add-image-btn { background: #667eea; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; margin-top: 0.5rem; }
        
        .preview-area { display: flex; gap: 1rem; flex-wrap: wrap; margin: 1rem 0; padding: 1rem; background: white; border-radius: 8px; min-height: 100px; }
        .preview-placeholder { color: #999; width: 100%; text-align: center; }
        .preview-image { position: relative; width: 100px; height: 100px; }
        .preview-image img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; border: 2px solid #667eea; }
        .preview-check { position: absolute; top: -5px; right: -5px; background: #28a745; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        
        .submit-btn { background: #28a745; color: white; border: none; padding: 1rem; border-radius: 8px; font-size: 1.1rem; cursor: pointer; width: 100%; margin-top: 1rem; transition: transform 0.3s; }
        .submit-btn:hover { transform: scale(1.02); }
        
        .container { max-width: 1200px; margin: 2rem auto; }
        .posts-container { display: flex; flex-direction: column; gap: 2rem; }
        
        .post-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); animation: slideIn 0.5s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        
        .post-header { padding: 1.5rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; display: flex; justify-content: space-between; align-items: center; }
        .post-type { background: rgba(255,255,255,0.2); padding: 0.3rem 1rem; border-radius: 50px; font-size: 0.9rem; }
        .post-date { font-size: 0.9rem; opacity: 0.9; }
        
        .post-content { padding: 2rem; }
        .post-title { font-size: 1.8rem; margin-bottom: 1rem; color: #333; }
        .post-text { color: #555; line-height: 1.8; font-size: 1.1rem; margin-bottom: 1.5rem; }
        
        .post-images { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
        .post-image { width: 100%; height: 200px; object-fit: cover; border-radius: 10px; cursor: pointer; transition: transform 0.3s; border: 2px solid #667eea; }
        .post-image:hover { transform: scale(1.05); border-color: #ffa502; }
        
        .delete-post-btn { background: #dc3545; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; margin-top: 1rem; }
        
        .footer { background: white; text-align: center; padding: 2rem; margin-top: 3rem; border-radius: 15px; color: #666; }
        .loading { text-align: center; padding: 2rem; color: white; font-size: 1.2rem; }
        .no-posts { text-align: center; padding: 4rem; background: white; border-radius: 15px; color: #666; font-size: 1.2rem; }
        
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #28a745; color: white; padding: 1rem 2rem; border-radius: 50px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 3000; animation: slideUp 0.3s; display: none; }
        @keyframes slideUp { from { opacity: 0; transform: translate(-50%, 20px); } to { opacity: 1; transform: translate(-50%, 0); } }
        .toast.show { display: block; }
        .toast.error { background: #dc3545; }
        
        .info-box { background: #e8f0fe; padding: 10px; border-radius: 8px; margin-bottom: 10px; color: #333; font-size: 0.9rem; }
        .info-box p { margin: 5px 0; }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-top">
            <div class="logo">
                <h1>ğŸ“š Ù…Ø¬Ù„Ø© Ø§Ù„Ù‚Ø³Ù…</h1>
                <p>Ø§Ù„ØªØ¹Ø§Ù…ÙŠÙ… ÙˆØ§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©</p>
            </div>
            <button class="admin-btn" onclick="showAdminLogin()">
                <span>âš™ï¸</span> Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
            </button>
        </div>

        <!-- Ø§Ù„Ø¨Ø­Ø« -->
        <div class="search-section">
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªØ¹Ø§Ù…ÙŠÙ…..." oninput="handleSearch()">
                <button class="clear-search" id="clearSearchBtn" onclick="clearSearch()">âœ•</button>
            </div>
            <div class="search-stats">
                <span id="searchResultText">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ø§Ù…ÙŠÙ…</span>
                <span id="searchCount" class="result-count">0</span>
            </div>
        </div>
    </header>

    <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div class="admin-login-screen" id="adminLoginScreen">
        <div class="admin-login-box">
            <h2>ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</h2>
            <input type="password" id="adminPassword" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø²">
            <div class="admin-login-buttons">
                <button class="login-submit" onclick="checkAdminPassword()">Ø¯Ø®ÙˆÙ„</button>
                <button class="login-cancel" onclick="hideAdminLogin()">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
            <div class="login-error" id="loginError">Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­</div>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h3>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
            <button class="logout-btn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
        
        <div class="add-post-form">
            <h4 style="margin-bottom: 1rem;">Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù…ÙŠÙ… Ø¬Ø¯ÙŠØ¯</h4>
            
            <div class="info-box">
                <p>âœ¨ Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ: Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Drive Ù…Ø¨Ø§Ø´Ø±Ø© (Ø·ÙˆÙŠÙ„ Ø£Ùˆ Ù‚ØµÙŠØ±) ÙˆØ³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                <p>ğŸ“Œ Ù…Ø«Ø§Ù„: https://drive.google.com/file/d/1jOqjWl25FESHs53KTSTZa1xpT1oe26Mh/view</p>
            </div>
            
            <div class="form-group">
                <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø´ÙˆØ±</label>
                <select id="postType">
                    <option value="ØªØ¹Ù…ÙŠÙ…">ğŸ“¢ ØªØ¹Ù…ÙŠÙ…</option>
                    <option value="Ù…Ù‚Ø§Ù„">ğŸ“ Ù…Ù‚Ø§Ù„</option>
                    <option value="Ø¥Ø¹Ù„Ø§Ù†">ğŸ“Œ Ø¥Ø¹Ù„Ø§Ù†</option>
                    <option value="Ø®Ø¨Ø±">ğŸ“° Ø®Ø¨Ø±</option>
                </select>
            </div>

            <div class="form-group">
                <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù†Ø´ÙˆØ±</label>
                <input type="text" id="postTitle" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù†Ø´ÙˆØ±">
            </div>

            <div class="form-group">
                <label>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ±</label>
                <textarea id="postText" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ±"></textarea>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„ØµÙˆØ± Ø§Ù„Ø°ÙƒÙŠ -->
            <div class="form-group">
                <label>ğŸ“¸ ØµÙˆØ± Google Drive</label>
                <div id="imagesContainer">
                    <div class="image-input-group">
                        <input type="text" class="image-id" placeholder="Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Drive Ø£Ùˆ ID Ø§Ù„ØµÙˆØ±Ø©">
                        <button class="preview-btn" onclick="previewImage(this)">ğŸ” Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
                        <button class="remove-btn" onclick="removeImageInput(this)">âœ•</button>
                    </div>
                </div>
                <button class="add-image-btn" onclick="addImageInput()">+ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø£Ø®Ø±Ù‰</button>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
            <div class="preview-area" id="previewArea">
                <p class="preview-placeholder">Ø³ØªØ¸Ù‡Ø± Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ± Ù‡Ù†Ø§</p>
            </div>

            <button class="submit-btn" onclick="addPost()">ğŸ“¢ Ù†Ø´Ø± Ø§Ù„ØªØ¹Ù…ÙŠÙ…</button>
        </div>
    </div>

    <main class="container">
        <div id="postsContainer" class="posts-container">
            <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ¹Ø§Ù…ÙŠÙ…...</div>
        </div>
    </main>

    <footer class="footer">
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2026 - Ù…Ø¬Ù„Ø© Ø§Ù„Ù‚Ø³Ù…</p>
    </footer>

    <div id="toast" class="toast"></div>

    <script>
        // ===== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© =====
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbykDvt8HEjz0Y_WzIzpZyYWzZjU_Y7EtUdUu6QEqxtn1wI6iwu_5qhgFCedjHLF2ahNpg/exec';
        const ADMIN_PASSWORD = "admin";
        let isAdminLoggedIn = false;
        let allPosts = [];

        // ===== Ø¯ÙˆØ§Ù„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø°ÙƒÙŠØ© =====
        function addImageInput() {
            const container = document.getElementById('imagesContainer');
            const div = document.createElement('div');
            div.className = 'image-input-group';
            div.innerHTML = `
                <input type="text" class="image-id" placeholder="Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Drive Ø£Ùˆ ID Ø§Ù„ØµÙˆØ±Ø©">
                <button class="preview-btn" onclick="previewImage(this)">ğŸ” Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
                <button class="remove-btn" onclick="removeImageInput(this)">âœ•</button>
            `;
            container.appendChild(div);
        }

        function previewImage(btn) {
            const input = btn.parentElement.querySelector('.image-id');
            const rawInput = input.value.trim();
            if (!rawInput) {
                showToast('âŒ Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø£Ùˆ ID Ø§Ù„ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹', true);
                return;
            }
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ID Ø°ÙƒÙŠØ§Ù‹
            const extractedId = extractDriveId(rawInput);
            if (!extractedId) {
                showToast('âŒ Ù„Ù… Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ®Ø±Ø§Ø¬ ID ØµØ­ÙŠØ­', true);
                return;
            }
            
            const previewArea = document.getElementById('previewArea');
            const imageUrl = `https://drive.google.com/uc?export=view&id=${extractedId}`;
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Øµ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            if (previewArea.children.length === 1 && previewArea.children[0].classList.contains('preview-placeholder')) {
                previewArea.innerHTML = '';
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
            const imgDiv = document.createElement('div');
            imgDiv.className = 'preview-image';
            imgDiv.innerHTML = `
                <img src="${imageUrl}" onerror="this.parentElement.remove(); showToast('âŒ ID ØºÙŠØ± ØµØ­ÙŠØ­', true)">
                <span class="preview-check">âœ“</span>
            `;
            previewArea.appendChild(imgDiv);
            showToast('âœ… ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©');
        }

        function removeImageInput(btn) {
            if (document.querySelectorAll('.image-id').length > 1) {
                btn.parentElement.remove();
                updatePreview();
            }
        }

        function updatePreview() {
            const previewArea = document.getElementById('previewArea');
            previewArea.innerHTML = '<p class="preview-placeholder">Ø³ØªØ¸Ù‡Ø± Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ± Ù‡Ù†Ø§</p>';
        }

        // Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ ID Ù…Ù† Ø£ÙŠ ØµÙŠØºØ© Ø±Ø§Ø¨Ø· Drive
        function extractDriveId(input) {
            input = input.trim();
            
            // 1. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¯Ø®Ù„ Ù‡Ùˆ ID ÙÙ‚Ø· (Ù…Ø¬Ø±Ø¯ Ø£Ø­Ø±Ù ÙˆØ£Ø±Ù‚Ø§Ù… Ø¨Ø·ÙˆÙ„ Ù…Ù†Ø§Ø³Ø¨)
            if (input.match(/^[a-zA-Z0-9_-]{25,}$/)) {
                return input; // ÙŠØ¹ØªØ¨Ø±Ù‡ ID Ù…Ø¨Ø§Ø´Ø±Ø©
            }
            
            let fileId = null;
            
            // 2. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø·ÙˆÙŠÙ„ /d/...
            if (input.includes('/d/')) {
                fileId = input.split('/d/')[1].split('/')[0];
            }
            // 3. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† ?id=...
            else if (input.includes('id=')) {
                fileId = input.split('id=')[1].split('&')[0];
            }
            // 4. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† /open?id=...
            else if (input.includes('open?')) {
                fileId = input.split('id=')[1].split('&')[0];
            }
            // 5. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† uc?export=view&id=...
            else if (input.includes('uc?export=view&id=')) {
                fileId = input.split('uc?export=view&id=')[1].split('&')[0];
            }

            if (fileId) {
                // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù€ ID Ù…Ù† Ø£ÙŠØ© Ø£Ø¬Ø²Ø§Ø¡ Ø¥Ø¶Ø§ÙÙŠØ©
                fileId = fileId.split('?')[0].split('#')[0];
                return fileId;
            }
            
            return null; // Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ØµÙŠØºØ©
        }

        // ===== Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¹Ø±Ø¶ =====
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.background = isError ? '#dc3545' : '#28a745';
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        async function loadPosts() {
            try {
                const response = await fetch(`${SCRIPT_URL}?action=get`);
                const data = await response.json();
                if (data.success) {
                    allPosts = data.posts;
                    document.getElementById('searchCount').textContent = allPosts.length;
                    filterPosts(document.getElementById('searchInput').value);
                }
            } catch (error) {
                document.getElementById('postsContainer').innerHTML = '<div class="no-posts">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„</div>';
            }
        }

        function displayPosts(posts) {
            const container = document.getElementById('postsContainer');
            
            if (!posts.length) {
                container.innerHTML = '<div class="no-posts">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¹Ø§Ù…ÙŠÙ…</div>';
                return;
            }

            posts.sort((a, b) => new Date(b.date) - new Date(a.date));

            let html = '';
            posts.forEach(post => {
                const date = new Date(post.date).toLocaleString('ar-EG', {
                    year: 'numeric', month: 'long', day: 'numeric',
                    hour: '2-digit', minute: '2-digit'
                });

                let imagesHtml = '';
                if (post.images && post.images.length) {
                    imagesHtml = '<div class="post-images">';
                    post.images.forEach(img => {
                        if (img) {
                            imagesHtml += `
                                <img src="${img}" class="post-image" onclick="window.open('${img}','_blank')">
                            `;
                        }
                    });
                    imagesHtml += '</div>';
                }

                html += `
                    <div class="post-card">
                        <div class="post-header">
                            <span class="post-type">${post.type}</span>
                            <span class="post-date">${date}</span>
                        </div>
                        <div class="post-content">
                            <h2 class="post-title">${escapeHtml(post.title)}</h2>
                            <div class="post-text">${escapeHtml(post.text).replace(/\n/g, '<br>')}</div>
                            ${imagesHtml}
                            ${isAdminLoggedIn ? `
                                <button class="delete-post-btn" onclick="deletePost(${post.id})">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ØªØ¹Ù…ÙŠÙ…</button>
                            ` : ''}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            
